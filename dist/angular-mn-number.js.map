{"version":3,"sources":["mn-passwor/mn-number.directive.js","app.js"],"names":["MnNumberDirective","$compile","$parse","link","scope","element","attributes","ngModel","dirtyInput","querySelector","removeChild","input","find","isPercentage","getAttribute","value","angular","isDefined","attr","event","document","createEvent","initEvent","dispatchEvent","on","$modelValue","console","log","restrict","require","module","$inject","directive"],"mappings":"YAIA,SAASA,mBAAkBC,SAAUC,QAOnC,QAASC,MAAKC,MAAOC,QAASC,WAAYC,SACxC,GAAMC,YAAaH,QAAQ,GAAGI,cAAc,gBACxCD,aACFH,QAAQ,GAAGK,YAAYF,WAGzB,IAAMG,OAAQN,QAAQO,KAAK,SACrBC,aAAeR,QAAQ,GAAGS,aAAa,cACvCC,MAAQF,aAC0B,IAApCX,OAAOI,WAAWC,SAASH,OAC3BF,OAAOI,WAAWC,SAASH,MAE3BY,SAAQC,UAAUF,SACpBV,QAAQ,GAAGU,MAAQA,OAGrBJ,MAAMO,KAAK,WAAYZ,WAAWC,SAClCN,SAASU,OAAOP,MAEhB,IAAMe,OAAQC,SAASC,YAAY,aACnCF,OAAMG,UAAU,UAAU,GAAO,GACjCjB,QAAQ,GAAGI,cAAc,SAASc,cAAcJ,OAEhDR,MAAMa,GAAG,SAAU,WAEjB,GAAMT,OAAQV,QAAQ,GAAGU,KACzBR,SAAQkB,YAAcV,MAGtBW,QAAQC,IAAIpB,QAAQkB,eAnCxB,OACEG,SAAU,IACVzB,KAAAA,KACA0B,QAAS,WCRbb,QAAQc,OAAO,gBDCf9B,kBAAkB+B,SAAW,WAAY,UADzCf,QACGc,OAAO,aACPE,UAAU,WAAYhC","file":"angular-mn-number.js","sourcesContent":["angular\n  .module('mn-number')\n  .directive('mnNumber', MnNumberDirective)\n\nfunction MnNumberDirective($compile, $parse) {\n  return {\n    restrict: 'E',\n    link,\n    require: 'ngModel',\n  }\n\n  function link(scope, element, attributes, ngModel) {\n    const dirtyInput = element[0].querySelector('input + input')\n    if (dirtyInput) {\n      element[0].removeChild(dirtyInput)\n    }\n\n    const input = element.find('input')\n    const isPercentage = element[0].getAttribute('percentage')\n    const value = isPercentage\n      ? $parse(attributes.ngModel)(scope) * 100\n      : $parse(attributes.ngModel)(scope)\n\n    if (angular.isDefined(value)) {\n      element[0].value = value\n    }\n\n    input.attr('ng-model', attributes.ngModel)\n    $compile(input)(scope)\n\n    const event = document.createEvent('HTMLEvents')\n    event.initEvent('change', false, true)\n    element[0].querySelector('input').dispatchEvent(event)\n\n    input.on('change', () => {\n      const value = element[0].value\n      ngModel.$modelValue = value\n      // ngModel.$viewValue = value\n      // ngModel.$render()\n      console.log(ngModel.$modelValue)\n    })\n    // console.log(ngModel.$modelValue)\n  }\n}\n","angular.module('mn-number', [])\n"]}